<view class="container">
  <!-- é¡¶éƒ¨æ—¥æœŸ -->
  <view class="header">
    <text class="date">{{currentDate}}</text>
    <text class="greeting">ä»Šå¤©è®°å½•äº†å—ï¼Ÿ</text>
  </view>

  <!-- è®°å½•è¡¨å• -->
  <view class="form">
    <!-- æ–‡å­—è¾“å…¥ -->
    <view class="input-group">
      <textarea
        class="content-input"
        placeholder="è®°å½•ä¸€ä¸ªå¼€å¿ƒçš„ç¬é—´..."
        placeholder-class="placeholder"
        value="{{content}}"
        bindinput="onContentInput"
        auto-height
        maxlength="500"
        show-confirm-bar="{{false}}"
      />
    </view>

    <!-- å›¾ç‰‡ä¸Šä¼  -->
    <view class="image-group" wx:if="{{!imageUrl}}">
      <button
        class="upload-btn"
        bindtap="onChooseImage"
        type="default"
      >
        <text class="upload-icon">ğŸ“·</text>
        <text class="upload-text">æ·»åŠ ç…§ç‰‡</text>
      </button>
    </view>

    <!-- å·²ä¸Šä¼ å›¾ç‰‡é¢„è§ˆ -->
    <view class="image-preview" wx:if="{{imageUrl}}">
      <image
        class="preview-image"
        src="{{imageUrl}}"
        mode="aspectFill"
      />
      <view class="image-remove" bindtap="onRemoveImage">
        <text>Ã—</text>
      </view>
    </view>

    <!-- ä½ç½®ä¿¡æ¯ -->
    <view class="location-group" wx:if="{{location}}">
      <text class="location-icon">ğŸ“</text>
      <text class="location-text">{{location.name || 'æœªçŸ¥ä½ç½®'}}</text>
    </view>

    <!-- æäº¤æŒ‰é’® -->
    <button
      class="submit-btn {{content ? 'active' : ''}}"
      bindtap="onSubmit"
      disabled="{{!content || submitting}}"
      loading="{{submitting}}"
    >
      {{submitting ? 'è®°å½•ä¸­...' : 'ä¿å­˜å¹¸ç¦'}}
    </button>
  </view>

  <!-- åº•éƒ¨å¯¼èˆª -->
  <view class="footer">
    <view class="footer-item" bindtap="goToRecords">
      <text class="footer-icon">ğŸ“</text>
      <text class="footer-text">æŸ¥çœ‹è®°å½•</text>
    </view>
    <view class="footer-item" bindtap="goToRandom">
      <text class="footer-icon">ğŸ²</text>
      <text class="footer-text">éšæœºå›é¡¾</text>
    </view>
  </view>
</view>
