<view class="container" wx:if="{{record}}">
  <!-- è®°å½•å¡ç‰‡ -->
  <view class="record-card">
    <view class="card-header">
      <text class="record-time">{{record.created_at}}</text>
      <text class="record-location" wx:if="{{record.location}}">
        ğŸ“ å·²å®šä½
      </text>
    </view>

    <view class="card-content">
      <textarea
        wx:if="{{editing}}"
        class="edit-textarea"
        value="{{editContent}}"
        bindinput="onEditInput"
        auto-height
        maxlength="-1"
        focus="{{editing}}"
        placeholder="å†™ç‚¹ä»€ä¹ˆ..."
      />
      <text wx:else class="content-text">{{record.content}}</text>
    </view>

    <view class="card-images" wx:if="{{record.image_urls.length}}">
      <image
        wx:for="{{record.image_urls}}"
        wx:key="*this"
        src="{{item}}"
        mode="aspectFill"
        class="record-img"
        bindtap="onPreviewImage"
        data-url="{{item}}"
      />
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="actions" wx:if="{{editing}}">
    <button class="action-btn save-btn" bindtap="onSaveEdit" type="default">
      <text class="btn-text">ä¿å­˜</text>
    </button>
    <button class="action-btn cancel-btn" bindtap="onCancelEdit" type="default">
      <text class="btn-text">å–æ¶ˆ</text>
    </button>
  </view>
  <view class="actions" wx:else>
    <button class="action-btn share-btn" bindtap="onShare" type="default">
      <text class="btn-icon">ğŸ“¤</text>
      <text class="btn-text">ç”Ÿæˆæµ·æŠ¥</text>
    </button>
    <button class="action-btn delete-btn" bindtap="onDelete" type="default">
      <text class="btn-icon">ğŸ—‘ï¸</text>
      <text class="btn-text">åˆ é™¤</text>
    </button>
  </view>
</view>

<!-- åŠ è½½çŠ¶æ€ -->
<view class="loading" wx:if="{{!record && loading}}">
  <text>åŠ è½½ä¸­...</text>
</view>
