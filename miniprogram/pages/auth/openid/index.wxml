<!--pages/auth/openid/index.wxml-->
<view class="container">
  <view class="section">
    <view class="section-title">获取 OpenId</view>
    <view class="description">OpenId 是微信用户在当前小程序的唯一标识</view>

    <view class="button-group">
      <button type="primary" bindtap="getOpenId" disabled="{{haveGetOpenId}}">
        获取 OpenId
      </button>
      <button type="default" bindtap="clearData" disabled="{{!haveGetOpenId}}">
        清除数据
      </button>
    </view>
  </view>

  <view class="result" wx:if="{{haveGetOpenId}}">
    <view class="result-item">
      <view class="result-label">OpenId</view>
      <view class="result-value">
        <text>{{openId}}</text>
        <text class="copy-btn" bindtap="copyOpenId">复制</text>
      </view>
    </view>
    <view class="result-item" wx:if="{{appid}}">
      <view class="result-label">AppId</view>
      <view class="result-value">{{appid}}</view>
    </view>
    <view class="result-item" wx:if="{{unionid}}">
      <view class="result-label">UnionId</view>
      <view class="result-value">{{unionid}}</view>
    </view>
  </view>
</view>
